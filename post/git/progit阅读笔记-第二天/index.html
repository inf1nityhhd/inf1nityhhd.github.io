<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>ProGit阅读笔记-第二天 -</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="霍浩东"><meta name=description content="使用git remote指令可以查看远程仓库的名字，加上-v可以显示仓库地址，添加一个新远程仓库可以使用git remote add &amp;lt;reponame&amp;gt; &amp;lt;url&amp;gt;来实"><meta name=generator content="Hugo 0.83.1 with theme even"><link rel=canonical href=/post/git/progit%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%BA%8C%E5%A4%A9/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link href=/sass/main.min.cb68f97bc9cece255d217346d970e3c62623408634e500c330a62fadabbbe77c.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="ProGit阅读笔记-第二天"><meta property="og:description" content="使用git remote指令可以查看远程仓库的名字，加上-v可以显示仓库地址，添加一个新远程仓库可以使用git remote add <reponame> <url>来实"><meta property="og:type" content="article"><meta property="og:url" content="/post/git/progit%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%BA%8C%E5%A4%A9/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-05-23T15:11:54+08:00"><meta property="article:modified_time" content="2021-05-23T15:11:54+08:00"><meta itemprop=name content="ProGit阅读笔记-第二天"><meta itemprop=description content="使用git remote指令可以查看远程仓库的名字，加上-v可以显示仓库地址，添加一个新远程仓库可以使用git remote add <reponame> <url>来实"><meta itemprop=datePublished content="2021-05-23T15:11:54+08:00"><meta itemprop=dateModified content="2021-05-23T15:11:54+08:00"><meta itemprop=wordCount content="2253"><meta itemprop=keywords content="Git,阅读笔记,"><meta name=twitter:card content="summary"><meta name=twitter:title content="ProGit阅读笔记-第二天"><meta name=twitter:description content="使用git remote指令可以查看远程仓库的名字，加上-v可以显示仓库地址，添加一个新远程仓库可以使用git remote add <reponame> <url>来实"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo></a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>🏠Home</li></a><a href=/categories/><li class=mobile-menu-item>🎨Categories</li></a><a href=/tags/><li class=mobile-menu-item>🏷️Tags</li></a><a href=/post/><li class=mobile-menu-item>📚Archives</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo></a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>🏠Home</a></li><li class=menu-item><a class=menu-item-link href=/categories/>🎨Categories</a></li><li class=menu-item><a class=menu-item-link href=/tags/>🏷️Tags</a></li><li class=menu-item><a class=menu-item-link href=/post/>📚Archives</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>ProGit阅读笔记-第二天</h1><div class=post-meta><span class=post-time>2021-05-23</span><div class=post-category><a href=/categories/git/>Git</a></div><span class=more-meta>约 2253 字</span>
<span class=more-meta>预计阅读 5 分钟</span>
<span id=busuanzi_container_page_pv class=more-meta><span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> 次阅读</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class="post-toc-content always-active"><nav id=TableOfContents></nav></div></div><div class=post-content><ul><li>使用<code>git remote</code>指令可以查看远程仓库的名字，加上<code>-v</code>可以显示仓库地址，添加一个新远程仓库可以使用<code>git remote add &lt;reponame> &lt;url></code>来实现。</li><li>从远程仓库抓取数据使用<code>git fetch &lt;reponame></code>即可，<code>git clone</code>会默认将远程仓库归于origin名下，<code>git fetch</code>每次更新可以认为是将远程仓库的内容和当前仓库的内容做一个并集。<code>git fetch</code>是将远程主机的最新内容拉到本地，用户在检查了以后决定是否合并到工作本机分支中。而<code>git pull</code> 则是将远程主机的最新内容拉下来后直接合并，即：<code>git pull = git fetch + git merge</code>，这样可能会产生冲突，需要手动解决。**</li><li>在 Git 中提交时，会保存一个提交（commit）对象，该对象包含一个指向暂存内容快照的指针，包含本次提交的作者等相关附属信息，包含零个或多个指向该提交对象的父对象指针：首次提交是没有直接祖先的，普通提交有一个祖先，由两个或多个分支合并产生的提交则有多个祖先。</li><li>当使用 <code>git commit</code> 新建一个提交对象前，Git 会先计算每一个子目录（本例中就是项目根目录）的校验和，然后在 Git 仓库中将这些目录保存为树（tree）对象。之后 Git 创建的提交对象，除了包含相关提交信息以外，还包含着指向这个树对象（项目根目录）的指针，如此它就可以在将来需要的时候，重现此次快照的内容了。</li><li>多次提交后的<code>commit对象</code>之间的关系如下图所示：</li></ul><p><img src=https://git.oschina.net/progit/figures/18333fig0302-tn.png alt></p><ul><li>Git 中的分支，其实本质上仅仅是个指向 commit 对象的可变指针。Git 会使用 master 作为分支的默认名字。在若干次提交后，你其实已经有了一个指向最后一次提交对象的 master 分支，它在每次提交的时候都会自动向前移动。</li></ul><p><img src=https://git.oschina.net/progit/figures/18333fig0303-tn.png alt></p><ul><li><p>创建新分支——<code>git branch &lt;branch name></code></p></li><li><p>Git通过<code>HEAD</code>指针指向当前分支，可以认为是当前分支的别名。</p></li><li><p>切换分支——<code>git checkout &lt;branch name></code></p></li><li><p>Git 中的分支实际上仅是一个包含所指对象校验和（40 个字符长度 SHA-1 字串）的文件，所以创建和销毁一个分支就变得非常廉价，速度自然非常快。</p></li><li><p>新建并切换到该新分支——<code>git checkout -b &lt;branch name></code></p></li><li><p>Git在合并分支时，如果<code>master</code>分支所在的提交对象是要并入某一分支的上游，Git 只需把 <code>master</code> 分支指针直接右移。换句话说，如果顺着一个分支走下去可以到达另一个分支的话，那么 Git 在合并两者时，只会简单地把指针右移，因为这种单线的历史分支不存在任何需要解决的分歧，所以这种合并过程可以称为快进（Fast forward）。</p></li></ul><p><img src=https://git.oschina.net/progit/figures/18333fig0313-tn.png alt></p><p><img src=https://git.oschina.net/progit/figures/18333fig0314-tn.png alt></p><ul><li>删除分支——<code>git branch -d &lt;branch name></code></li><li>如果合并的两个分支有公共祖先但是不能像上面提到的采用<code>fast forward</code>方式合并的话，Git 会用两个分支的末端（C4 和 C5）以及它们的共同祖先（C2）进行一次简单的三方合并计算，如下图所示：</li></ul><p><img src=https://git.oschina.net/progit/figures/18333fig0316-tn.png alt></p><p><img src=https://git.oschina.net/progit/figures/18333fig0317-tn.png alt></p><ul><li><p>可以看到，Git 没有简单地把分支指针右移，而是对三方合并后的结果重新做一个新的快照，并自动创建一个指向它的提交对象（C6）。这个提交对象比较特殊，它有两个祖先（C4 和 C5）。</p></li><li><p>合并分支时遇到冲突可以使用<code>git status</code>查看含有冲突的文件，想要正常合并则需要先处理完冲突的部分，之后再手动<code>git add &lt;file></code>。</p></li><li><p>查看所有分支——<code>git branch</code></p></li><li><p>查看各个分支最后一个提交对象的信息——<code>git branch -v</code></p></li><li><p>查看与当前分支合并过的所以分支——<code>git branch --merged</code></p></li><li><p>查看未与当前分支合并的分支——<code>git branch --no-merged</code></p></li><li><p>强制删除还未合并过的分支——<code>git branch -D &lt;branch name></code></p></li><li><p>远程分支的格式为<code>(远程仓库名)/(分支名)</code></p></li><li><p>假设你们团队有个地址为 <code>git.ourcompany.com</code> 的 Git 服务器。如果你从这里克隆，Git 会自动为你将此远程仓库命名为 <code>origin</code>，并下载其中所有的数据，建立一个指向它的 <code>master</code> 分支的指针，在本地命名为 <code>origin/master</code>，但你无法在本地更改其数据。接着，Git 建立一个属于你自己的本地 <code>master</code> 分支，始于 <code>origin</code> 上 <code>master</code> 分支相同的位置，你可以就此开始工作，如下图所示：</p></li></ul><p><img src=https://git.oschina.net/progit/figures/18333fig0322-tn.png alt></p><p>所以说，实际上我们每次克隆远程仓库时，实际上是建立你自己的本地分支 master 和远程分支 origin/master，并且将它们都指向 <code>origin</code> 上的 <code>master</code> 分支。<strong>可以这样理解，<code>origin/master</code>分支负责与服务器交互（相当于远程服务器中内容的备份），本地分支负责本地的代码管理，每次<code>push/pull</code>是本地与服务器交互，<code>fetch</code>则是本地的<code>origin/master</code>更新到代码托管平台服务器上的最新代码。</strong></p><ul><li>同步远程服务器上的数据到本地——<code>git fetch origin</code>。该命令首先找到 <code>origin</code> 是哪个服务器，从上面获取你尚未拥有的数据，更新你本地的数据库，然后把 <code>origin/master</code> 的指针移到它最新的位置上。</li><li>推送本地分支到远程仓库——<code>git push &lt;remote repo name> &lt;branch name></code>，如果想要把推送的分支取个另外的名字，可以这样：<code>git push origin &lt;old branch name>:&lt;new branch name></code>。</li><li>从远程分支 <code>checkout</code> 出来的本地分支，称为 <em>跟踪分支</em> (tracking branch)。跟踪分支是一种和某个远程分支有直接联系的本地分支。在跟踪分支里输入 <code>git push</code>，Git 会自行推断应该向哪个服务器的哪个分支推送数据。同样，在这些分支里运行 <code>git pull</code> 会获取所有远程索引，并把它们的数据都合并到本地分支中来。</li><li>在<code>git fetch</code>操作后想要将内容合并到当前分支，使用<code>git merge</code>即可，可以认为，<code>git pull</code>等价于<code>git fetch</code> + <code>git merge</code>。</li><li>如果想要复制一份远程的内容分支到本地来修改可以用<code>git checkout</code>来实现，即<code>git checkout -b &lt;branch name> &lt;remote branch name></code></li><li>删除远程分支——<code>git push &lt;remote repo name> : &lt;branch name></code>。<strong>有种方便记忆这条命令的方法：记住我们不久前见过的 <code>git push [远程名] [本地分支]:[远程分支]</code> 语法，如果省略 <code>[本地分支]</code>，那就等于是在说“在这里提取空白然后把它变成<code>[远程分支]</code>”。</strong></li><li>关于<code>git rebase</code>这个危险的操作，用到的时候再查资料参考。</li></ul></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>霍浩东</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2021-05-23</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/git/>Git</a>
<a href=/tags/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/>阅读笔记</a></div><nav class=post-nav><a class=prev href=/post/git/progit%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E5%A4%A9/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">ProGit阅读笔记-第一天</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/post/linux/wsl2%E9%85%8D%E7%BD%AEc%E8%AF%AD%E8%A8%80%E7%8E%AF%E5%A2%83/><span class="next-text nav-default">WSL2配置C语言开发环境</span>
<span class="next-text nav-mobile">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=https://github.com/inf1nityhhd class="iconfont icon-github" title=github></a><a href=https://www.zhihu.com/people/xing-qu-shi-ran-36-72 class="iconfont icon-zhihu" title=zhihu></a><a href=https://space.bilibili.com/36579846 class="iconfont icon-bilibili" title=bilibili></a><a href=inf1nityhhd@163.com class="iconfont icon-email" title=email></a><a href=/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动</span>
<span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>本站总访问量 <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span> 次</span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>本站总访客数 <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span> 人</span></div><span class=copyright-year>&copy;
2021🐟豫ICP备20010189号-1 💡
<span>霍浩东</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script><script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]}}</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script></body></html>